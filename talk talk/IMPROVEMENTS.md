# 程式改進建議

## 發現的問題

### 1. 關鍵字匹配過於寬鬆

- **問題**：「來」、「約」等關鍵字會誤判詢問句或未來計劃
- **範例**：「你要現在來？」（詢問，非實際見面）
- **影響**：`02_count_meetings.py`、`06_second_filter.py` 會誤判

### 2. TRAPS 列表不夠完整

- **問題**：`09_full_backtrace_confirm_gray.py` 的 TRAPS 缺少常見疑問句
- **建議**：加入「你要」、「你覺得」、「會不會」等

### 3. 檔名格式不一致

- **問題**：`01_split_by_date_and_noon.py` 產生 `YYYY-MM-DD.txt`，但其他程式期望 `YYYY-MM-DD_週X_AM.txt`
- **影響**：`02_quick_scan.py` 無法正確解析檔名

### 4. 重複計算風險

- **問題**：同一天多個檔案（AM/PM）可能重複計算見面次數
- **建議**：最終統計時應以日期為單位去重

## 建議的改進方案

1. **加強關鍵字匹配**：使用正則表達式或上下文判斷，排除疑問句
2. **擴充 TRAPS 列表**：加入更多誤判關鍵字
3. **統一檔名格式**：修正 `01_split_by_date_and_noon.py` 的檔名格式
4. **最終去重**：建立一個最終統計程式，以日期為單位去重
